<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Associate User with Week</title>
</head>
<body>
        <!-- In edit_schedule.html -->
    <div>
        <h1>Edit User's Schedule</h1>
        
        <!-- Display the selected user and week information (You can retrieve them from the URL parameters) -->
        <p><span id="user-name">User Name</span></p>
        <p><span id="week-name">Week Name</span></p>

        <div id="current-schedule">
            <h3>User's Current Assigned Schedule:</h3>
            <p id="current-schedule-text" th:if="${userSchedule}">Current Schedule: <span th:text="${userSchedule}"></span></p>
            <p id="no-schedule-message" th:if="${noSchedule}"><span th:text="${noSchedule}"></span></p>
        </div>

        <!-- <div id="edit-schedule">
            <label for="days">Select Days:</label>
            <input type="checkbox" name="days" value="M"> Monday
            <input type="checkbox" name="days" value="T"> Tuesday
            <input type="checkbox" name="days" value="W"> Wednesday
            <input type="checkbox" name="days" value="H"> Thursday
            <input type="checkbox" name="days" value="F"> Friday
            <input type="checkbox" name="days" value="S"> Saturday
            <input type="checkbox" name="days" value="U"> Sunday
        </div> -->

        <!-- Button to update the schedule (you can use JavaScript to handle the update) -->
        <!-- <div id="buttons">
            <input type="button" value="Update Schedule" id="update-schedule-button">
        </div> -->
    </div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const selectedUsername = urlParams.get("username");
        const selectedWeekName = urlParams.get("weekName");

        // Display the user and week information
        const userNameElement = document.getElementById("user-name");
        const weekNameElement = document.getElementById("week-name");

        if (selectedUsername && selectedWeekName) {
            userNameElement.textContent = "User: " + selectedUsername;
            weekNameElement.textContent = "Week: " + selectedWeekName;
        } else {
            userNameElement.textContent = "User: (Not provided)";
            weekNameElement.textContent = "Week: (Not provided)";
        }
    
        // You can use AJAX to fetch and display the user's current schedule here
        // Example: Fetch schedule based on selectedUsername and selectedWeekName, and update "current-schedule-text"

        
        // Handle the update button click
        const updateScheduleButton = document.getElementById("update-schedule-button");
        updateScheduleButton.addEventListener("click", function() {
            // Handle the schedule update and any related logic
        });
    </script>
    

</body>
</html>
